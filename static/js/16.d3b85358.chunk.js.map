{"version":3,"sources":["Notice.js"],"names":["Title","Paragraph","Text","Notice","visible","noticed","onCancel","useState","disabled","toggleDisabled","checked","onChange","count","setCount","isRunning","toggleIsRunning","showExample","toggleShowExample","useInterval","closeModal","warning","title","centered","width","closable","keyboard","maskClosable","getContainer","document","getElementById","footer","e","target","type","onClick","id","onScroll","scrollHeight","scrollTop","clientHeight","level","strong","info","okText","content","mode","Item","label","color"],"mappings":"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","file":"static/js/16.d3b85358.chunk.js","sourcesContent":["import { Button, Checkbox, message, Modal, Space, Timeline, Typography } from 'antd';\nimport React, { useState } from 'react';\nimport { useInterval } from './App';\n\nconst { Title, Paragraph, Text } = Typography;\n\nfunction Notice({ visible, noticed, onCancel }) {\n  const [disabled, toggleDisabled] = useState(!noticed);\n  const [checked, onChange] = useState(noticed);\n  const [count, setCount] = useState(45);\n  const [isRunning, toggleIsRunning] = useState(!noticed);\n  const [showExample, toggleShowExample] = useState(noticed);\n\n  useInterval(() => {\n    if (count > 0) {\n      setCount(count - 1);\n    } else {\n      toggleIsRunning(false);\n    }\n  }, isRunning ? 1000 : null);\n\n  const toggleChecked = (e) => {\n    onChange(e.target.checked);\n  }\n\n  const handleScroll = (e) => {\n    if (disabled) {\n      const { scrollHeight, scrollTop, clientHeight } = e.target;\n      scrollHeight - (scrollTop + clientHeight) <= 24 && toggleDisabled(false);\n    }\n  }\n\n  const openEgModal = () => {\n    Modal.info({\n      width: 650,\n      centered: true,\n      okText: '明白了',\n      title: '当前盈亏与总盈亏计算例子',\n      content: (\n        <Timeline mode=\"left\">\n          <Timeline.Item label=\"第一个交易期\">股价：10 金币</Timeline.Item>\n          <Timeline.Item color=\"green\">买入 100 股</Timeline.Item>\n          <Timeline.Item label=\"第二个交易期\">股价：5 金币</Timeline.Item>\n          <Timeline.Item>\n            <p>当前盈亏：(5 - 10) × 100 = -500</p>\n            <p>总盈亏：(5 - 10) × 100 = -500</p>\n          </Timeline.Item>\n          <Timeline.Item color=\"red\">卖出 50 股</Timeline.Item>\n          <Timeline.Item>\n            <p>当前持仓：100 - 50 = 50</p>\n            <p>当前盈亏：(5 - 10) × 50 = -250</p>\n            <p>总盈亏：(5 - 10) × 50 = -250</p>\n          </Timeline.Item>\n          <Timeline.Item label=\"第三个交易期\">股价：15 金币</Timeline.Item>\n          <Timeline.Item>\n            <p>当前盈亏：(15 - 10) × 50 = 250</p>\n            <p>总盈亏：-250 + 250 = 0</p>\n          </Timeline.Item>\n          <Timeline.Item color=\"red\">卖出 50 股</Timeline.Item>\n          <Timeline.Item>\n            <p>当前持仓：0</p>\n            <p>当前盈亏：0</p>\n            <p>总盈亏：(15 - 10) × 50 + (-250) = 0</p>\n          </Timeline.Item>\n        </Timeline>\n      ),\n    });\n    toggleShowExample(true);\n  }\n\n  const closeModal = () => {\n    if (!showExample) {\n      message.warning('请查看盈亏例子后再进行下一步！');\n    } else {\n      onCancel();\n    }\n  };\n\n  return (\n    <Modal\n      title=\"实验须知\"\n      centered\n      width=\"75%\"\n      closable={noticed}\n      keyboard={noticed}\n      maskClosable={noticed}\n      visible={visible}\n      getContainer={() => document.getElementById('app')}\n      footer={\n        <Space>\n          {\n          !noticed &&\n            <Checkbox\n              key=\"checkbox\"\n              checked={checked}\n              onChange={toggleChecked}\n            >我已详细阅读须知</Checkbox>\n          }\n          <Button\n            key=\"button\"\n            type=\"primary\"\n            onClick={closeModal}\n            disabled={disabled || !checked || isRunning}\n          >{isRunning ? `${count}秒` : '确定'}</Button>\n        </Space>\n      }\n      onCancel={closeModal}\n    >\n      <div id=\"notice\" onScroll={handleScroll}>\n        <Typography>\n          <Title level={3}>您好！欢迎参加实验！</Title>\n          <Paragraph>请在正式进入实验前仔细阅读并理解指导语。</Paragraph>\n          <Paragraph>本次实验任务是一个股票交易任务。</Paragraph>\n          <Paragraph>\n            模拟股票交易任务最终的\n            <Text strong>投资收益</Text>\n            将会与您的\n            <Text strong>实验报酬</Text>\n            挂钩。\n          </Paragraph>\n          <Paragraph>\n            在实验过程中，如有任何与实验规则有关的问题或意外状况，\n            <Text strong>请举手告知工作人员</Text>\n            。\n          </Paragraph>\n          <Paragraph>\n            您一共会进行\n            <Text strong>若干轮</Text>\n            模拟股票交易任务，每一轮交易都是独立的、每一轮有若干个交易期。在每一个交易期，屏幕首先会显示：\n          </Paragraph>\n          <Paragraph>\n            <ul>\n              <li>\n                <Text strong>当前股票价格</Text>\n              </li>\n              <li>\n                <Space>\n                  <Text strong>成本</Text>\n                  即您的加权平均买入价\n                </Space>\n              </li>\n              <li>\n                <Space>\n                  <Text strong>持仓</Text>\n                  即您当前持有的该股票的数量\n                </Space>\n              </li>\n              <li>\n                <Space>\n                  <Text strong>当前盈亏</Text>\n                  即您当前所持有的股票份额所产生的盈亏\n                </Space>\n              </li>\n              <li>\n                <Space>\n                  <Text strong>总盈亏</Text>\n                  累计盈亏，即当前盈亏 + 已兑现的盈亏\n                  <Button\n                    type=\"link\"\n                    onClick={openEgModal}\n                  >例子</Button>\n                </Space>\n              </li>\n              <li>\n                <Space>\n                  <Text strong>现金余额</Text>\n                  当前可用于购买股票的金币数量\n                </Space>\n              </li>\n            </ul>\n          </Paragraph>\n          <Paragraph>\n            接着，请您作出投资决策，决定在该交易期\n            <Text keyboard>买入</Text>\n            、\n            <Text keyboard>卖出</Text>\n            或\n            <Text keyboard>持仓不变</Text>\n            （既不买入也不卖出）该股票，并\n            <Text strong>选择对应操作的股票数量</Text>\n            。\n          </Paragraph>\n          <Paragraph>\n            然后，屏幕会显示您在本轮交易后的当前股价、成本、持仓、当前盈亏、总盈亏、\n            <Text strong>股票总市值</Text>\n            （当前持有股票份额的现金价值）、现金余额。该交易期结束后，会进入下一个交易期。\n          </Paragraph>\n          <Title level={3}>需要注意的是：</Title>\n          <Paragraph>\n            <ol>\n              <li>\n                可以在\n                <Text keyboard>Point 0</Text>\n                ～\n                <Text keyboard>Point 20</Text>\n                进行股票交易，若在\n                <Text keyboard>Point 20</Text>\n                前清仓将股票全部卖出，任务\n                <Text strong>不会提前结束</Text>\n                ，您可以继续观看后续时期的股价变化，并再次进行交易。\n              </li>\n              <li>\n                只能\n                <Text>整股交易</Text>\n                ，除了在\n                <Text keyboard>Point 0</Text>\n                对交易数量有规定外，其他时期\n                <Text strong>不限制交易数量</Text>\n                。\n              </li>\n              <li>不能进行空头交易（卖出股票的数量多于目前所持有的股票份额）。</li>\n              <li>现金余额不得为负，不能借钱。</li>\n              <li>股票的交易不会产生交易费用。</li>\n            </ol>\n          </Paragraph>\n        </Typography>\n      </div>\n    </Modal>\n  );\n}\n\nexport default Notice;\n"],"sourceRoot":""}