{"version":3,"sources":["Preparation.js"],"names":["STEPS","Preparation","trades","groupID","handleStart","useState","select","selectStock","current","setCurrent","count","setCount","isRunning","toggleIsRunning","useInterval","next","undefined","warning","selects","SELECTS","forEach","_","index","findIndex","trade","push","Math","floor","random","length","id","map","item","Step","title","subTitle","extra","type","disabled","onClick","justify","unselected","span","hoverable","checked","className","Paragraph","Text","keyboard","bordered","column","Item","label","Title","level"],"mappings":"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","file":"static/js/18.0b94a9de.chunk.js","sourcesContent":["import { Button, Card, Col, Descriptions, message, Radio, Result, Row, Steps, Typography } from 'antd';\nimport React, { useState } from 'react';\nimport { SELECTS, useInterval } from './App';\n\nconst STEPS = [\n  '准备',\n  '说明',\n  '选股',\n  '确认',\n];\n\nfunction Preparation({ trades, groupID, handleStart }) {\n  const [select, selectStock] = useState();\n  const [current, setCurrent] = useState(0);\n  const [count, setCount] = useState(60);\n  const [isRunning, toggleIsRunning] = useState(true);\n\n  useInterval(() => {\n    if (count > 0) {\n      setCount(count - 1);\n    } else {\n      toggleIsRunning(false);\n    }\n  }, isRunning ? 1000 : null);\n\n  const next = () => {\n    if (current >= 1 && select === undefined) {\n      if (groupID !== 10) {\n        current !== 1 && setCurrent(1);\n        return message.warning('请选择一支股票');\n      }\n      const selects = [];\n      SELECTS.forEach((_, index) => {\n        if (trades.findIndex((trade) => +trade.select === index) === -1) {\n          selects.push(index);\n        }\n      });\n      selectStock(selects[Math.floor(Math.random() * selects.length)]);\n    }\n    if (current >= 3) {\n      return handleStart(select);\n    }\n    current < STEPS.length - 1 && setCurrent(current + 1);\n    toggleIsRunning(false);\n  };\n\n  const prev = () => {\n    current > 0 && setCurrent(current - 1);\n  };\n\n  return (\n    <div id=\"preparation\">\n      <Steps current={current}>\n        {\n          STEPS.map((item) => (\n            <Steps.Step key={item} title={item} />\n          ))\n        }\n      </Steps>\n      {\n        (() => {\n          if (current === 0) {\n            return (\n              <Result\n                title={`第${trades.length + 1}轮实验即将开始`}\n                subTitle=\"如果您已准备就绪，请点击开始！\"\n                extra={[\n                <Button key=\"countdown\" type=\"primary\" disabled={isRunning} onClick={next}>{isRunning ? `建议休息${count}秒后开始` : '开始'}</Button>,\n                isRunning && <Button key=\"start\" type=\"link\" onClick={next}>准备就绪，立即开始</Button>\n              ]}\n              />\n            );\n          }\n\n          if (current === 1 || current === 2) {\n            return (\n              <div id=\"step\">\n                <Row justify=\"space-around\">\n                  {\n                    SELECTS.map((item, index) => {\n                      const unselected = trades.findIndex((trade) => trade.select === index) === -1;\n                      return (\n                        <Col key={index} span={3}>\n                          <Card\n                            hoverable\n                            title={`${item}股票`}\n                            onClick={() => current === 1 && groupID !== 10 && unselected && selectStock(index)}\n                          >\n                            <Radio\n                              checked={select === index}\n                              disabled={current === 2 || !unselected || groupID === 10}\n                            />\n                          </Card>\n                        </Col>\n                      );\n                    })\n                  }\n                </Row>\n                <div className=\"introduce\">\n                  {\n                    current === 1 ? (\n                      groupID === 10 ?\n                        <Typography>\n                          <Typography.Paragraph>\n                            现在进入资产分配阶段\n                            <Typography.Text keyboard>Point0</Typography.Text>\n                            。市场上有“甲、乙、丙、丁、戊、己、庚、辛”八只股票，这八只股票当前股价均为\n                            <Typography.Text keyboard>10</Typography.Text>\n                            金币，但是后期的上涨概率可能不同。\n                          </Typography.Paragraph>\n                          <Typography.Paragraph>\n                            您将进行五轮交易，每轮只对一支股票进行买卖，并且必须在\n                            <Typography.Text keyboard>Point0</Typography.Text>\n                            通过自己购买或者接受他人赠送得到\n                            <Typography.Text keyboard>300</Typography.Text>\n                            股股票后，才能进入交易市场进行交易。\n                          </Typography.Paragraph>\n                          <Typography.Paragraph>\n                            您现在拥有\n                            <Typography.Text keyboard>2000</Typography.Text>\n                            金币的现金。另外，投资顾问将为您选择一支股票，并<b>赠送</b>\n                            <Typography.Text keyboard>300</Typography.Text>\n                            股该股票给您。\n                          </Typography.Paragraph>\n                        </Typography> : (\n                          groupID === 20 ?\n                            <Typography>\n                              <Typography.Paragraph>\n                                现在进入资产分配阶段\n                                <Typography.Text keyboard>Point0</Typography.Text>\n                                。市场上有“甲、乙、丙、丁、戊、己、庚、辛”八只股票，这八只股票当前股价均为\n                                <Typography.Text keyboard>10</Typography.Text>\n                                金币，但是后期的上涨概率可能不同。\n                              </Typography.Paragraph>\n                              <Typography.Paragraph>\n                                您将进行五轮交易，每轮只对一支股票进行买卖，并且必须在\n                                <Typography.Text keyboard>Point0</Typography.Text>\n                                通过自己购买或者接受他人赠送得到\n                                <Typography.Text keyboard>300</Typography.Text>\n                                股股票后，才能进入交易市场进行交易。\n                              </Typography.Paragraph>\n                              <Typography.Paragraph>\n                                您现在拥有\n                                <Typography.Text keyboard>5000</Typography.Text>\n                                金币的现金作为本金。股票的所有交易都由您本人独立作出，盈亏由您本人承担，现在您需要<b>自己选择</b>一支股票并买入\n                                <Typography.Text keyboard>300</Typography.Text>\n                                股。\n                              </Typography.Paragraph>\n                              <Typography.Paragraph>请问您选择购入哪支股票？</Typography.Paragraph>\n                            </Typography> : (\n                              groupID === 30 &&\n                              <Typography>\n                                <Typography.Paragraph>\n                                  现在进入资产分配阶段\n                                  <Typography.Text keyboard>Point0</Typography.Text>\n                                  。市场上有“甲、乙、丙、丁、戊、己、庚、辛”八只股票，这八只股票当前股价均为\n                                  <Typography.Text keyboard>10</Typography.Text>\n                                  金币，但是后期的上涨概率可能不同。\n                                </Typography.Paragraph>\n                                <Typography.Paragraph>\n                                  您将进行五轮交易，每轮只对一支股票进行买卖，并且必须在\n                                  <Typography.Text keyboard>Point0</Typography.Text>\n                                  通过自己购买或者接受他人赠送得到\n                                  <Typography.Text keyboard>300</Typography.Text>\n                                  股股票后，才能进入交易市场进行交易。\n                                </Typography.Paragraph>\n                                <Typography.Paragraph>\n                                  您现在拥有\n                                  <Typography.Text keyboard>5000</Typography.Text>\n                                  金币的现金作为本金。投资顾问考察市场行情与股票历史走向后，认为在这八支股票中，“甲、乙、丙、丁、戊”的上涨概率较大，推荐您买入。现在您需要选择一支股票并买入\n                                  <Typography.Text keyboard>300</Typography.Text>\n                                  股，请您在\n                                  <b>参考投资顾问的建议后自行作出选择</b>\n                                  。\n                                </Typography.Paragraph>\n                                <Typography.Paragraph>请问您选择购入哪支股票？</Typography.Paragraph>\n                              </Typography>\n                            )\n                        )\n                    ) : (\n                      groupID === 10 ?\n                        <Typography>\n                          <Typography.Paragraph>\n                            投资顾问在考察市场行情与股票历史走向后，认为{SELECTS[select]}股票上涨概率较大，因此\n                            <b>\n                              赠送您\n                              <Typography.Text keyboard>300</Typography.Text>\n                              股{SELECTS[select]}股票\n                            </b>\n                            ，即目前您拥有价值\n                            <Typography.Text keyboard>5000</Typography.Text>\n                            金币的总资产（现金：2000，股票：300 × 10 = 3000）。\n                          </Typography.Paragraph>\n                          <Typography.Paragraph>\n                            后续股票的所有交易决策都由您本人独立作出，盈亏由您本人承担。\n                          </Typography.Paragraph>\n                        </Typography> : (\n                          groupID === 20 ?\n                            <Typography>\n                              <Typography.Paragraph>\n                                <b>\n                                  您自行选择并购入了\n                                  <Typography.Text keyboard>300</Typography.Text>\n                                  股{SELECTS[select]}股票\n                                </b>\n                                ，即目前您拥有价值\n                                <Typography.Text keyboard>5000</Typography.Text>\n                                金币的总资产（现金：2000，股票：300 × 10 = 3000）。\n                              </Typography.Paragraph>\n                            </Typography> : (\n                              groupID === 30 &&\n                              <Typography>\n                                <Typography.Paragraph>\n                                  <b>\n                                    您在投资顾问的建议下，选择并购入了\n                                    <Typography.Text keyboard>300</Typography.Text>\n                                    股{SELECTS[select]}股票\n                                  </b>\n                                  ，即目前您拥有价值\n                                  <Typography.Text keyboard>5000</Typography.Text>\n                                  金币的总资产（现金：2000，股票：300 × 10 = 3000）。\n                                </Typography.Paragraph>\n                                <Typography.Paragraph>\n                                  后续股票的所有交易决策都由您本人独立作出，盈亏由您本人承担。\n                                </Typography.Paragraph>\n                              </Typography>\n                            )\n                        )\n                    )\n                  }\n                </div>\n                {\n                  current === 1 ?\n                  <Descriptions bordered column={1} title=\"资产配置\">\n                    <Descriptions.Item label=\"当前股价\">10</Descriptions.Item>\n                    <Descriptions.Item label=\"成本\">0</Descriptions.Item>\n                    <Descriptions.Item label=\"持仓\">0</Descriptions.Item>\n                    <Descriptions.Item label=\"当前盈亏\">0</Descriptions.Item>\n                    <Descriptions.Item label=\"总盈亏\">0</Descriptions.Item>\n                    <Descriptions.Item label=\"现金余额\">{groupID === 10 ? 2000 : 5000}</Descriptions.Item>\n                    <Descriptions.Item label=\"总资产\">{groupID === 10 ? 2000 : 5000}</Descriptions.Item>\n                  </Descriptions> :\n                  <Descriptions bordered column={1} title=\"资产配置\">\n                    <Descriptions.Item label=\"当前股价\">10.0</Descriptions.Item>\n                    <Descriptions.Item label=\"成本\">10.0</Descriptions.Item>\n                    <Descriptions.Item label=\"持仓\">300</Descriptions.Item>\n                    <Descriptions.Item label=\"当前盈亏\">0</Descriptions.Item>\n                    <Descriptions.Item label=\"总盈亏\">0</Descriptions.Item>\n                    <Descriptions.Item label=\"现金余额\">2000</Descriptions.Item>\n                    <Descriptions.Item label=\"股票市值\">3000</Descriptions.Item>\n                    <Descriptions.Item label=\"总资产\">5000</Descriptions.Item>\n                  </Descriptions>\n                }\n              </div>\n            );\n          }\n\n          return (\n            <div id=\"step\">\n              <Typography>\n                <Typography.Title level={5}>\n                  接下来，进入股票交易环节。您选择的股票为{SELECTS[select]}，持有数量为\n                  <Typography.Text keyboard>300</Typography.Text>\n                  ，以及现金金币\n                  <Typography.Text keyboard>2000</Typography.Text>\n                  。接下来您还有\n                  <Typography.Text keyboard>20</Typography.Text>\n                  次交易的机会（\n                  <Typography.Text keyboard>Point 1</Typography.Text>\n                  ～\n                  <Typography.Text keyboard>Point 20</Typography.Text>\n                  ）。\n                </Typography.Title>\n                <Typography.Title level={5}>\n                  点击确认进入正式交易任务。\n                </Typography.Title>\n              </Typography>\n            </div>\n          )\n        })()\n      }\n      <Row justify=\"center\">\n        <Col span={4}>\n          <Button type=\"primary\" onClick={next}>\n            {\n              current < STEPS.length - 1 ? '下一步' : '确认'\n            }\n          </Button>\n        </Col>\n        <Col span={4}>\n          <Button disabled={current === 0} onClick={prev}>上一步</Button>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default Preparation;\n"],"sourceRoot":""}