(this["webpackJsonpstocks-simulation"]=this["webpackJsonpstocks-simulation"]||[]).push([[5],{133:function(t,e,n){},164:function(t,e,n){"use strict";n.r(e);n(126);var a=n(116),c=n(14),r=n(0),s=n.n(r),i=n(17),o=n.n(i),u=(n(133),n(92)),l=function(t){t&&t instanceof Function&&n.e(16).then(n.bind(null,501)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)("div",{id:"app",children:Object(c.jsx)(r.Suspense,{fallback:Object(c.jsx)(a.a,{size:"large",delay:100}),children:Object(c.jsx)(u.b,{})})})}),document.getElementById("root")),l()},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return z}));n(163);var a=n(118),c=(n(142),n(83)),r=n(14),s=(n(123),n(63)),i=(n(74),n(29)),o=(n(93),n(69)),u=n(58),l=n(41),d=n(37),b=n.n(d),j=n(57),h=(n(124),n(81)),f=n(95),x=n(96),O=n(109),g=n(106),v=n(0),m=n(32),p=n.n(m),k=Object(v.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(15)]).then(n.bind(null,170))})),I=Object(v.lazy)((function(){return Promise.all([n.e(2),n.e(13)]).then(n.bind(null,165))})),y=Object(v.lazy)((function(){return Promise.all([n.e(2),n.e(14)]).then(n.bind(null,166))})),S=Object(v.lazy)((function(){return Promise.all([n.e(1),n.e(4),n.e(10)]).then(n.bind(null,171))})),w=Object(v.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(12)]).then(n.bind(null,167))})),D=Object(v.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(9)]).then(n.bind(null,169))})),N=Object(v.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(11)]).then(n.bind(null,168))})),P={A:"\u7532",B:"\u4e59",C:"\u4e19",D:"\u4e01",E:"\u620a"},z=function(t){Object(O.a)(n,t);var e=Object(g.a)(n);function n(t){var a;return Object(f.a)(this,n),(a=e.call(this,t)).login=function(t){var e=t.uuid,n=t.groupID;p.a.setItem("userInfo",{uuid:e,groupID:n},(function(){a.setState({uuid:e,groupID:n})}))},a.closeModal=function(){p.a.setItem("noticed",!0,(function(){a.setState({noticed:!0,showNotice:!1})}))},a.clearUserInfo=function(){h.a.confirm({okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",title:"\u662f\u5426\u6e05\u9664\u7528\u6237\u6570\u636e\uff1f",content:"\u6e05\u9664\u7528\u6237\u6570\u636e\u540e\u4e5f\u5c06\u4f1a\u6e05\u9664\u5b9e\u9a8c\u6570\u636e\uff01\u8bf7\u8c28\u614e\u64cd\u4f5c\uff01",onOk:function(){var t=Object(j.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.clear();case 2:a.setState({uuid:"",groupID:"",noticed:!1,showNotice:!0,trades:[],status:0});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})},a.clearDashboard=function(){h.a.confirm({okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",title:"\u662f\u5426\u6e05\u9664\u5b9e\u9a8c\u6570\u636e",content:"\u6e05\u9664\u5b9e\u9a8c\u6570\u636e\u540e\uff0c\u60a8\u9700\u8981\u91cd\u65b0\u64cd\u4f5c\uff01\u8bf7\u8c28\u614e\u64cd\u4f5c\uff01",onOk:function(){var t=Object(j.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.removeItem("trades");case 2:a.setState({trades:[],status:0});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})},a.openNotice=function(){a.setState({showNotice:!0})},a.goBack=Object(j.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(-1!==a.state.status){t.next=7;break}return t.next=4,p.a.removeItem("trades");case 4:a.setState({error:!1,trades:[],status:0}),t.next=8;break;case 7:window.location.reload();case 8:case"end":return t.stop()}}),t)}))),a.handleStart=function(t){a.setState((function(e){return{trades:[].concat(Object(l.a)(e.trades),[{stock:t,buy:[300],sell:[0],mood:[]}]),status:1}}),(function(){var t=a.state.trades;p.a.setItem("trades",t)}))},a.handleTrade=function(t,e){var n=a.state.trades,c=n[n.length-1];if(c){var r=c.buy,s=c.sell,i=c.mood;if(r.length!==s.length)return a.setState({status:-1});if(r.length>=21)i.length<5?a.setState({status:2}):a.setState({status:3});else{var o={};"buy"===t?(o.buy=[].concat(Object(l.a)(r),[e]),o.sell=[].concat(Object(l.a)(s),[0])):"sell"===t?(o.buy=[].concat(Object(l.a)(r),[0]),o.sell=[].concat(Object(l.a)(s),[e])):(o.buy=[].concat(Object(l.a)(r),[0]),o.sell=[].concat(Object(l.a)(s),[0]));var d=n.slice();d.splice(-1,1,Object(u.a)(Object(u.a)({},c),o)),a.setState({trades:d},(function(){p.a.setItem("trades",d)}))}}else a.setState({status:0})},a.onSubmit=function(t){console.log(t)},a.state={loading:!0,uuid:"",groupID:"",noticed:!1,showNotice:!1,trades:[],status:0,error:!1},a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var t=Object(j.a)(b.a.mark((function t(){var e,n,a,c,r,s,i,o,l,d,j,h;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.getItem("userInfo");case 3:if(t.t1=e=t.sent,t.t0=null!==t.t1,!t.t0){t.next=7;break}t.t0=void 0!==e;case 7:if(!t.t0){t.next=11;break}t.t2=e,t.next=12;break;case 11:t.t2={};case 12:return c=t.t2,r=c.uuid,s=void 0===r?"":r,i=c.groupID,o=void 0===i?"":i,t.next=19,p.a.getItem("noticed");case 19:if(t.t4=n=t.sent,t.t3=null!==t.t4,!t.t3){t.next=23;break}t.t3=void 0!==n;case 23:if(!t.t3){t.next=27;break}t.t5=n,t.next=28;break;case 27:t.t5=!1;case 28:if(l=t.t5,d={uuid:s,groupID:o,noticed:l,showNotice:!l,loading:!1},s&&o){t.next=32;break}return t.abrupt("return",this.setState(d));case 32:return t.next=34,p.a.getItem("trades");case 34:if(t.t7=a=t.sent,t.t6=null!==t.t7,!t.t6){t.next=38;break}t.t6=void 0!==a;case 38:if(!t.t6){t.next=42;break}t.t8=a,t.next=43;break;case 42:t.t8=[];case 43:j=t.t8,h=C(j),this.setState(Object(u.a)(Object(u.a)({},d),{},{trades:j,status:h})),t.next=51;break;case 48:t.prev=48,t.t9=t.catch(0),this.setState({error:!0,loading:!1});case 51:case"end":return t.stop()}}),t,this,[[0,48]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.loading,n=t.error,u=t.uuid,l=t.groupID,d=t.noticed,b=t.showNotice,j=t.trades,h=t.status;if(e)return Object(r.jsx)("div",{id:"skeleton",children:Object(r.jsx)(o.a,{active:!0})});if(n||-1===h)return Object(r.jsx)(I,{status:h,goBack:this.goBack});if(!u||!l)return Object(r.jsx)(k,{login:this.login});var f="",x=null;switch(h){case 0:f="\u5373\u5c06\u5f00\u59cb\u7b2c".concat(j.length+1,"\u8f6e\u5b9e\u9a8c"),x=Object(r.jsx)(D,{trades:j,groupID:l,handleStart:this.handleStart});break;case 1:f="\u6b63\u5728\u8fdb\u884c\u7b2c".concat(j.length,"\u8f6e\u5b9e\u9a8c"),x=Object(r.jsx)(w,{trades:j});break;case 2:f="\u5df2\u7ed3\u675f\u7b2c".concat(j.length,"\u8f6e\u5b9e\u9a8c"),x=Object(r.jsx)(N,{onSubmit:this.onSubmit});break;case 3:f="\u6240\u6709\u5b9e\u9a8c\u5df2\u7ed3\u675f",x=Object(r.jsx)(y,{})}return Object(r.jsxs)("div",{id:"main",children:[Object(r.jsx)(a.a,{backIcon:!1,title:"\u80a1\u7968\u6a21\u62df\u4ea4\u6613\u5b9e\u9a8c",subTitle:f,extra:[Object(r.jsx)(i.a,{type:"link",onClick:this.openNotice,children:"\u5b9e\u9a8c\u987b\u77e5"},"notice"),Object(r.jsx)(i.a,{danger:!0,type:"primary",onClick:this.clearUserInfo,children:"\u6e05\u9664\u7528\u6237\u6570\u636e"},"userInfo"),Object(r.jsx)(i.a,{danger:!0,onClick:this.clearDashboard,children:"\u6e05\u9664\u5b9e\u9a8c\u6570\u636e"},"trades")],children:Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("div",{className:"main",children:Object(r.jsxs)(s.b,{size:"small",column:2,children:[Object(r.jsx)(s.b.Item,{label:"\u88ab\u8bd5\u7f16\u53f7",children:u}),Object(r.jsx)("br",{}),Object(r.jsx)(s.b.Item,{label:"\u5206\u7ec4\u7f16\u53f7",children:l})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"extra",children:[Object(r.jsx)(c.a,{title:"\u603b\u7d2f\u8ba1\u76c8\u4e8f",value:"",suffix:"\u91d1\u5e01"}),Object(r.jsx)(c.a,{title:"\u603b\u76c8\u4e8f\u7387",value:"",suffix:"%"})]})})]})}),x,Object(r.jsx)(S,{noticed:d,visible:b,onCancel:this.closeModal})]})}}]),n}(v.PureComponent);function C(t){var e=t[t.length-1],n=e||{},a=n.buy,c=void 0===a?[]:a,r=n.sell,s=void 0===r?[]:r,i=n.mood,o=void 0===i?[]:i;return!e||c.length>=21||s.length>=21?0===o.length||o.length>=5?t.length>=5?3:0:2:c.length<21&&c.length===s.length&&0===o.length?1:-1}}},[[164,6,8]]]);
//# sourceMappingURL=main.26d3aca3.chunk.js.map